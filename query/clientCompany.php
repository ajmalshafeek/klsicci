<?phpfunction addClientCompany($con,$clientName,$emailAddress,$address1,$address2,$postalCode,	$city,$state,$contactNo,$orgFaxNo,$createdDate,$createdBy,$orgId,$instalAddress1,$instalAddress2,$instalPCode,	$instalCity,$instalState,$cStatus,$country,$instalCountry,$fullName,$businessType,$incorpDate,$financialYear,$register){		$compId=0;		$query="INSERT INTO clientcompany (`name`,regNo,emailAddress,address1,address2,postalCode,		city,state,contactNo,faxNo,createdDate,createdBy,orgId,instalAddress1,instalAddress2,instalPCode,		instalCity,instalState,country,instalCountry,cStatus,customer,businessType,incorpDate,FinancialMonth)		VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)";		$stmt=mysqli_prepare($con,$query);		mysqli_stmt_bind_param($stmt,'sssssssssssiisssssssissss',$clientName,$register,$emailAddress,$address1,$address2,		$postalCode,$city,$state,$contactNo,$orgFaxNo,$createdDate,$createdBy,$orgId,$instalAddress1,$instalAddress2,$instalPCode,		$instalCity,$instalState,$country,$instalCountry,$cStatus,$fullName,$businessType,$incorpDate,$financialYear);		if(mysqli_stmt_execute($stmt)){			$compId=mysqli_insert_id($con);		}		mysqli_stmt_close($stmt);		return $compId;	}	function addClientCompanyTelecom($con,$compId,$clientCpa,$clientlat,$clientlong){		$teleId=0;		$query="INSERT INTO clienttelcompany (comid,cpa,latitude,longitude)		VALUES (?,?,?,?)";		$stmt=mysqli_prepare($con,$query);		mysqli_stmt_bind_param($stmt,'iiss',$compId,$clientCpa,$clientlat,$clientlong);		if(mysqli_stmt_execute($stmt)){			$teleId=mysqli_insert_id($con);		}		mysqli_stmt_close($stmt);		return $teleId;	}    function updateFMClient($con,$uid,$user,$home,$folder,$clientName){        $teleId=0;        $query="INSERT INTO fm (uid,utype,access,ftype,`path`)		VALUES (?,?,?,?,?)";        $stmt=mysqli_prepare($con,$query);        mysqli_stmt_bind_param($stmt,'iiiis',$uid,$user,$home,$folder,$clientName);        if(mysqli_stmt_execute($stmt)){            $teleId=mysqli_insert_id($con);        }        mysqli_stmt_close($stmt);        return $teleId;    }	function deleteClientCompany($con,$companyId,$orgId){		$success=false;		$query="DELETE FROM clientcompany WHERE id=? AND orgId=?";		$stmt=mysqli_prepare($con,$query);		mysqli_stmt_bind_param($stmt,'ii',$companyId,$orgId);        if (mysqli_stmt_execute($stmt)) {            $success=true;            if (isset($_SESSION['orgType'])&&$_SESSION['orgType']==6) {                $querytel="DELETE FROM clienttelcompany WHERE comid=?";                $stmttel=mysqli_prepare($con, $querytel);                mysqli_stmt_bind_param($stmttel, 'i', $companyId);                if (mysqli_stmt_execute($stmttel)) {                    $_SESSION['deleteTelCompany']=true;                }                mysqli_stmt_close($stmttel);            }        }		mysqli_stmt_close($stmt);		return $success;	}	function getClientName($con,$id){	    $name="";	    $query="SELECT * FROM clientcompany WHERE id='".$id."'";		$result = mysqli_query($con, $query);		while($row = mysqli_fetch_array($result)) {            $name = $row['name'];        }        return $name;	}function getCompanyDetailsById($con,$id){    $name=array();    $query="SELECT * FROM clientcompany WHERE id='".$id."'";    $result = mysqli_query($con, $query);    while($row = mysqli_fetch_array($result)) {        $name = $row;    }    return $name;}	function fetchClientTelCompanyById($con,$comId){		$query="SELECT * FROM clienttelcompany WHERE comid='".$comId."'";		$result = mysqli_query($con, $query);		while($row = mysqli_fetch_array($result)){		$_SESSION['cpa']=$row['cpa'];		$_SESSION['latitude']=$row['latitude'];		$_SESSION['longitude']=$row['longitude'];}	}	function fetchCPAList($con){		$dataList=array();		$cpa=0;		$query="SELECT cpa,comid FROM clienttelcompany WHERE cpa>? ORDER BY cpa";		$stmt=mysqli_prepare($con,$query);		mysqli_stmt_bind_param($stmt,'i',$cpa);		mysqli_stmt_execute($stmt);		$result = mysqli_stmt_get_result($stmt);		$c=0;        if (mysqli_num_rows($result) > 0) {                        while ($row=$result->fetch_assoc()) {                $dataList[$c][1]=$row['cpa'];                $dataList[$c][2]=$row['comid'];                $c++;                }        }		mysqli_stmt_close($stmt);		if($c==0){return null;}		return $dataList;	}	function fetchOrganizationClientCompanyListUnlinked($con,$status){		$dataList=array();		$vendorCreated=0;		$query="SELECT * FROM clientcompany		WHERE status=? AND isVendorCreated=? AND clientcompany.id NOT IN (			SELECT clientcompanyid from vendorclient			)";		$stmt=mysqli_prepare($con,$query);		mysqli_stmt_bind_param($stmt,'ii',$status,$vendorCreated);		mysqli_stmt_execute($stmt);		$result = mysqli_stmt_get_result($stmt);		while($row=$result->fetch_assoc()){			$dataList[]=$row;		}		mysqli_stmt_close($stmt);		return $dataList;	}	function fetchOrganizationClientCompanyList($con,$status,$orgId){		$dataList=array();		$vendorCreated=0;		$query="SELECT * FROM clientcompany WHERE status=? AND isVendorCreated=? AND orgId=? ORDER BY name";		$stmt=mysqli_prepare($con,$query);		mysqli_stmt_bind_param($stmt,'iii',$status,$vendorCreated,$orgId);		mysqli_stmt_execute($stmt);		$result = mysqli_stmt_get_result($stmt);		while($row=$result->fetch_assoc()){			$dataList[]=$row;		}		mysqli_stmt_close($stmt);		return $dataList;	}	function fetchClientCompanyListByCreatedOrg($con,$status,$orgId){		$dataList=array();		$query="SELECT * FROM clientcompany WHERE status=? AND orgId=?";		$stmt=mysqli_prepare($con,$query);		mysqli_stmt_bind_param($stmt,'ii',$status,$orgId);		mysqli_stmt_execute($stmt);		$result = mysqli_stmt_get_result($stmt);		while($row=$result->fetch_assoc()){			$dataList[]=$row;		}		mysqli_stmt_close($stmt);		return $dataList;	}	function fetchClientCompanyListByCreatedBy($con,$createdBy,$status,$orgId){		$dataList=array();		$query="SELECT * FROM clientcompany WHERE createdBy=? AND status=? AND orgId=?";		$stmt=mysqli_prepare($con,$query);		mysqli_stmt_bind_param($stmt,'iii',$createdBy,$status,$orgId);		mysqli_stmt_execute($stmt);		$result = mysqli_stmt_get_result($stmt);		while($row=$result->fetch_assoc()){			$dataList[]=$row;		}		mysqli_stmt_close($stmt);		return $dataList;	}	function fetchClientCompanyList($con,$vendorId,$status){		$dataList=array();		$query="SELECT * FROM clientcompany WHERE vendorId=? AND status=?";		$stmt=mysqli_prepare($con,$query);		mysqli_stmt_bind_param($stmt,'ii',$vendorId,$status);		mysqli_stmt_execute($stmt);		$result = mysqli_stmt_get_result($stmt);		while($row=$result->fetch_assoc()){			$dataList[]=$row;		}		mysqli_stmt_close($stmt);		return $dataList;	}	function fetchClientCompanyDetails($con,$clientCompanyId){		$query="SELECT * FROM clientcompany WHERE id=? ";		$stmt=mysqli_prepare($con,$query);		mysqli_stmt_bind_param($stmt,'i',$clientCompanyId);		mysqli_stmt_execute($stmt);		$result = mysqli_stmt_get_result($stmt);$value="";        while($row=$result->fetch_assoc()){        $value=$row;        }	//	$row=$result->fetch_assoc();		mysqli_stmt_close($stmt);        return $value;	}	function noOfClient($con,$orgId){		$query="SELECT * FROM clientcompany WHERE  orgId=?";		$stmt=mysqli_prepare($con,$query);		mysqli_stmt_bind_param($stmt,'i',$orgId);		mysqli_stmt_execute($stmt);		$result = mysqli_stmt_get_result($stmt);		$num_rows = mysqli_num_rows($result);		return $num_rows;	}	function addClientProduct($con,$companyId,$productId,$cStatus){		$feedback = false;		$query="INSERT INTO clientproduct (companyId,productId,cStatus)		VALUES (?,?,?)";		$stmt=mysqli_prepare($con,$query);		mysqli_stmt_bind_param($stmt,'iii',$companyId,$productId,$cStatus);		if(mysqli_stmt_execute($stmt)){			$feedback = true;		}	//	mysqli_stmt_close($stmt);		return $feedback;	}	function fetchClientCompanyListAll($con){		$dataList=array();		$query="SELECT * FROM clientcompany WHERE 1";		$stmt=mysqli_prepare($con,$query);		//mysqli_stmt_bind_param($stmt,'ii',$vendorId,$status);		mysqli_stmt_execute($stmt);		$result = mysqli_stmt_get_result($stmt);		while($row=$result->fetch_assoc()){			$dataList[]=$row;		}		mysqli_stmt_close($stmt);		return $dataList;	}    function checkClientName($con,$clientName){        $query="SELECT COUNT(name) as num FROM `clientcompany` WHERE `name`=?";        $stmt=mysqli_prepare($con,$query);        mysqli_stmt_bind_param($stmt,'s',$clientName);        mysqli_stmt_execute($stmt);        $result = mysqli_stmt_get_result($stmt);        $row = mysqli_fetch_array($result);        $success=$row['num'];        mysqli_stmt_close($stmt);        return $success;    }    function fetchNewClientCompanyList($con,$value)    {        $dataList = array();        $query = "SELECT * FROM `newrequest` WHERE `clientType`=".$value." ORDER BY id DESC";        $stmt = mysqli_prepare($con, $query);        mysqli_stmt_execute($stmt);        $result = mysqli_stmt_get_result($stmt);        while (($row = $result->fetch_assoc()) != false) {            $dataList[] = $row;        }        return $dataList;    }    function fetchNewClientDetails($con,$id){        $dataList = array();        $query = "SELECT * FROM `newrequest` WHERE `id`=?";        $stmt = mysqli_prepare($con, $query);        mysqli_stmt_bind_param($stmt,'i',$id);        mysqli_stmt_execute($stmt);        $result = mysqli_stmt_get_result($stmt);        while ($row = $result->fetch_assoc()) {            $dataList = $row;        }        return $dataList;    }    function removeFromNewRequest($con,$id){        $success=false;	    $query='DELETE FROM `newrequest` WHERE id=?';        $stmt=mysqli_prepare($con,$query);        mysqli_stmt_bind_param($stmt,'i',$id);        if (mysqli_stmt_execute($stmt)) {            $success=true;        }        return $success;    }    function addPotantialClient($con,$id,$value){        $success=false;        $query="UPDATE `newrequest` SET clientType=? WHERE id=?";        $stmt=mysqli_prepare($con,$query);        mysqli_stmt_bind_param($stmt,'ii',$value,$id);        if(mysqli_stmt_execute($stmt)){            $success=true;        }        mysqli_stmt_close($stmt);        return $success;    }/*	function fetchUserCriteria($con,$uid,$criteriaDate){		$query="SELECT * FROM criteria WHERE userId=? AND date(createdTime)=? LIMIT 1";		$stmt=mysqli_prepare($con,$query);		mysqli_stmt_bind_param($stmt,'is',$uid,$criteriaDate);		mysqli_stmt_execute($stmt);		$result = mysqli_stmt_get_result($stmt);		$row=$result->fetch_assoc();		mysqli_stmt_close($stmt);		return $row;	}	function isExistCriteria($con,$uid,$criteriaDate){		$exist=false;		$query="SELECT * FROM criteria WHERE userId=? AND date(createdTime)=?";		$stmt=mysqli_prepare($con,$query);		mysqli_stmt_bind_param($stmt,'is',$uid,$criteriaDate);		mysqli_stmt_execute($stmt);		$result = mysqli_stmt_get_result($stmt);		$num_rows = mysqli_num_rows($result);		if($num_rows>0){			$exist=true;		}		mysqli_stmt_close($stmt);		return $exist;	}	function fetchMyGroupMemberCriteria($con,$groupId,$criteriaDate){		$dataList=array();		$query="SELECT * FROM criteria as c inner join users as u		WHERE c.userid=u.id AND u.groupId=?		and Date(c.createdTime)=?";		$stmt=mysqli_prepare($con,$query);		mysqli_stmt_bind_param($stmt,'is',$groupId,$criteriaDate);		mysqli_stmt_execute($stmt);		$result = mysqli_stmt_get_result($stmt);		while($row=$result->fetch_assoc()){			$dataList[]=$row;		}		mysqli_stmt_close($stmt);		return $dataList;	}	function updateToCriteria($con,$user,$criteria,$criteriaDate,$createdBy,$weeklyTotal){		$success=false;		$attendance=$criteria[0];		$visitor=$criteria[1];		$commitment=$criteria[2];		$presentation=$criteria[3];		$training=$criteria[4];		$referal=$criteria[5];		$query="UPDATE criteria SET attendance=?,visitors=?, commitment=?, presentation=?,training=?,referal=?,weeklyTotal=?		WHERE userId=? AND date(createdTime)=?";		$stmt=mysqli_prepare($con,$query);		mysqli_stmt_bind_param($stmt,'iiiiiiiis',$attendance,$visitor,$commitment,$presentation,$training,$referal,$weeklyTotal,$user,$criteriaDate);		if(mysqli_stmt_execute($stmt)){			$success=true;		}		mysqli_stmt_close($stmt);		return $success;	}	function insertToCriteria($con,$user,$criteria,$createdTime,$createdBy,$weeklyTotal){		$success=false;		$attendance=$criteria[0];		$visitor=$criteria[1];		$commitment=$criteria[2];		$presentation=$criteria[3];		$training=$criteria[4];		$referal=$criteria[5];		$query="INSERT INTO criteria (userId,attendance,visitors,commitment,presentation,training,referal,createdTime,createdBy,weeklyTotal) VALUES (?,?,?,?,?,?,?,?,?,?)";		$stmt=mysqli_prepare($con,$query);		mysqli_stmt_bind_param($stmt,'iiiiiiisii',$user,$attendance,$visitor,$commitment,$presentation,$training,$referal,$createdTime,$createdBy,$weeklyTotal);		if(mysqli_stmt_execute($stmt)){			$success=true;		}		mysqli_stmt_close($stmt);		return $success;	}*/?>